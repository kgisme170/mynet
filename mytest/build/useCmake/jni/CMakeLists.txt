cmake_minimum_required (VERSION 2.8) 
execute_process(COMMAND javac cpp2java.java)
execute_process(COMMAND javah -classpath . -jni cpp2java)
include_directories(.)
include_directories(build)
add_library(impl SHARED impl.c)
include_directories(usejclass PRIVATE $ENV{JAVA_HOME}/include)
include_directories(usejclass PRIVATE $ENV{JAVA_HOME}/include/linux)
link_directories($ENV{JAVA_HOME}/jre/lib/amd64/server)
add_executable(usejclass usejclass.cpp useJvm.cpp)
target_link_libraries(usejclass jvm)
