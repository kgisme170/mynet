cmake_minimum_required (VERSION 2.8) 
include_directories(.)
add_library(impl SHARED impl.c)
execute_process(COMMAND javac cpp2java.java)
execute_process(COMMAND javah -jni cpp2java)
#execute_process(COMMAND scons -u)
include_directories(usejclass PRIVATE $ENV{JAVA_HOME}/include)
include_directories(usejclass PRIVATE $ENV{JAVA_HOME}/include/linux)
link_directories($ENV{JAVA_HOME}/jre/lib/amd64/server)
add_executable(usejclass usejclass.cpp)
target_link_libraries(usejclass jvm)
